cmake_minimum_required(VERSION 3.5)
project(cmake_tutorial VERSION 1.0)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# æŸ¥æ‰¾ OpenCV
find_package(OpenCV REQUIRED)

# åˆ›å»ºé™æ€åº“
add_library(robot_lib STATIC src/librobot.cpp)

# ğŸ‘‡ å…³é”®ï¼å‘Šè¯‰ robot_lib å’Œå®ƒçš„ä½¿ç”¨è€…ï¼šâ€œå¤´æ–‡ä»¶åœ¨ include/â€
target_include_directories(robot_lib
    PUBLIC
        ${CMAKE_CURRENT_SOURCE_DIR}/include
)

# åˆ›å»ºå¯æ‰§è¡Œæ–‡ä»¶
add_executable(${PROJECT_NAME}
    src/main.cpp
    src/math_utils.cpp
)

# é“¾æ¥åº“
target_link_libraries(${PROJECT_NAME} PRIVATE robot_lib ${OpenCV_LIBS})

# ğŸ‘‡ ç»™ä¸»ç¨‹åºè®¾ç½® OpenCV å¤´æ–‡ä»¶è·¯å¾„ï¼ˆrobot_lib ä¸éœ€è¦ï¼Œé™¤éå®ƒç”¨ OpenCVï¼‰
target_include_directories(${PROJECT_NAME} PRIVATE ${OpenCV_INCLUDE_DIRS})